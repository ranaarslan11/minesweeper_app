<h1 class="text-center my-4">Board: <%= @board.name %></h1>
<p class="text-center mb-3">Generated by: <%= @board.email %></p>

<p class="text-center text-danger fw-bold" data-minesweeper-target="status">Good luck! Donâ€™t hit a mine.</p>

<div class="container <%= 'game-over' if @board.game_over %>" data-controller="minesweeper" data-board-id="<%= @board.id %>">
  <table class="table table-bordered" id="minesweeper-board" style="width: auto; margin: 0 auto;">
    <tbody>
      <% @board.height.times do |row| %>
        <tr>
          <% @board.width.times do |col| %>
            <td
              data-row="<%= row %>"
              data-col="<%= col %>"
              data-action="contextmenu->minesweeper#flag click->minesweeper#reveal"
              class="cell text-center align-middle p-2 <%= @board.revealed_data[row][col] ? 'revealed' : 'unrevealed' %> <%= @board.flagged_data[row][col] ? 'flagged' : '' %>"
              style="width: 40px; height: 40px; background-color: #bfc3bf; font-size: 1.2rem;">
              <% if @board.revealed_data[row][col] %>
                <% if @board.board_data[row][col] == 'M' %>
                  ðŸ’£
                <% else %>
                  <%= @board.board_data[row][col] %>
                <% end %>
              <% elsif @board.flagged_data[row][col] %>
                ðŸš©
              <% end %>
            </td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div class="text-center mt-4">
  <%= link_to 'Back to Home', root_path, class: 'btn btn-primary' %>
</div>
